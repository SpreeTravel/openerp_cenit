<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        
        <menuitem id="menu_cenit_setup" name="Setup"
            parent="menu_cenit_integration" sequence="1" />


        <record id="view_cenit_connection_tree" model="ir.ui.view">
            <field name="name">view.cenit.connection.tree</field>
            <field name="model">cenit.connection</field>
            <field name="arch" type="xml">
                <tree string="Connections" >
                    <field name="name" />
                    <field name="url" />
                </tree>
            </field>
        </record>
        
        <record id="view_cenit_connection_form" model="ir.ui.view">
            <field name="name">view.cenit.connection.form</field>
            <field name="model">cenit.connection</field>
            <field name="arch" type="xml">
                <form string="Connection">
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="url"/>
                        </group>
                        <group>
                            <field name="key"/>
                            <field name="token"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Parameters">
                            <field name="url_parameters" widget="one2many_list"
                                   nolabel="1" class="oe_inline oe_no_button"
                                   context="{'url_id': active_id}">
                                <tree editable="bottom">
                                    <field name="key" />
                                    <field name="value" />
                                </tree>
                            </field>
                        </page>
                        <page string="Header Parameters">
                            <field name="header_parameters" widget="one2many_list"
                                   nolabel="1" class="oe_inline oe_no_button"
                                   context="{'header_id': active_id}">
                                <tree editable="bottom">
                                    <field name="key" />
                                    <field name="value" />
                                </tree>
                            </field>
                        </page>
                        <page string="Template Parameters">
                            <field name="template_parameters" widget="one2many_list"
                                   nolabel="1" class="oe_inline oe_no_button"
                                   context="{'template_id': active_id}">
                                <tree editable="bottom">
                                    <field name="key" />
                                    <field name="value" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        
        <record id="action_cenit_connection" model="ir.actions.act_window">
            <field name="name">Connections</field>            
            <field name="type">ir.actions.act_window</field>            
            <field name="res_model">cenit.connection</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_cenit_connection" name="Connections"
            parent="menu_cenit_setup" sequence="0"
            action="action_cenit_connection" />

        
        <record id="view_cenit_connection_role_tree" model="ir.ui.view">
            <field name="name">view.cenit.connection.role.tree</field>
            <field name="model">cenit.connection.role</field>
            <field name="arch" type="xml">
                <tree string="Roles" >
                    <field name="name" />
                </tree>
            </field>
        </record>
        
        <record id="view_cenit_connection_role_form" model="ir.ui.view">
            <field name="name">view.cenit.connection.role.form</field>
            <field name="model">cenit.connection.role</field>
            <field name="arch" type="xml">
                <form string="Role">
                    <group>
                        <field name="name" />
                    </group>
                    <notebook>
                        <page string="Connections">
                            <field name="connections" widget="many2many_list"
                                   nolabel="1" context="{'role_id': active_id}">
                                <tree>
                                    <field name="name" />
                                    <field name="url" />
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        
        <record id="action_cenit_connection_role" model="ir.actions.act_window">
            <field name="name">Roles</field>            
            <field name="type">ir.actions.act_window</field>            
            <field name="res_model">cenit.connection.role</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>
        
        <menuitem id="menu_cenit_connection_role" name="Roles"
            parent="menu_cenit_setup" sequence="1"
            action="action_cenit_connection_role" />

    </data>
</openerp>
